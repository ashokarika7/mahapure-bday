/* celebration.styles.css
   Enhanced styling and animations for celebration.jsx
   Mobile-first approach. Add this file next to celebration.jsx
*/

/* -------------------------
   Color variables (warm palette)
   ------------------------- */
   :root{
    --cream:#fff7f0;
    --muted-gold:#b87f2a;
    --soft-ink:#242424;
    --muted-cream:rgba(245,234,220,0.95);
    --glow-rose:rgba(255,210,180,0.14);
    --accent-1: #f7c078;
    --accent-2: #f0a6f3;
  }
  
  /* convenience utilities (used by JSX) */
  .bg-cream{background:linear-gradient(180deg, rgba(255,250,248,1), rgba(254,248,244,1));}
  .text-muted-gold{color:var(--muted-gold);}
  .text-soft-ink{color:var(--soft-ink);}
  
   /* base root */
   .celebration-root { 
     font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Georgia"; 
     width: 100%;
     min-height: 100vh;
   }
  
  /* background layers */
  .bg-warm-blur{
    background:
      radial-gradient(600px 300px at 8% 18%, rgba(255,236,214,0.7), transparent 14%),
      radial-gradient(600px 300px at 92% 82%, rgba(255,224,211,0.58), transparent 12%),
      linear-gradient(180deg, rgba(255,247,241,1), rgba(255,244,238,1));
    filter: blur(22px) saturate(110%);
    transform: translateZ(0);
  }
  
  /* subtle vignette for depth */
  .soft-vignette {
    box-shadow: inset 0 160px 260px rgba(0,0,0,0.02);
    background: radial-gradient(60% 45% at 50% 20%, rgba(255,255,255,0.08), transparent 35%);
    mix-blend-mode: multiply;
  }
  
  /* particle field (very subtle floating particles) */
  .particle-field { background: transparent; }
  .particle-field::before,
  .particle-field::after {
    content: "";
    position: absolute;
    inset: -10%;
    background-repeat: repeat;
    pointer-events: none;
    opacity: 0;
  }
  .particle-field.particles-on::before {
    background-image:
      radial-gradient(rgba(255,255,255,0.06) 0.6px, transparent 1px),
      radial-gradient(rgba(255,230,200,0.06) 0.6px, transparent 1px);
    background-size: 30px 30px, 90px 90px;
    animation: particleDrift 14s linear infinite;
    opacity: 0.15;
  }
  .particle-field.particles-on::after {
    background-image:
      radial-gradient(rgba(255,255,255,0.04) 0.8px, transparent 1px);
    background-size: 60px 60px;
    animation: particleDrift 19s linear infinite reverse;
    opacity: 0.06;
  }
  @keyframes particleDrift{
    0% { transform: translateY(0) translateX(0) rotate(0); }
    50% { transform: translateY(-12px) translateX(8px) rotate(180deg); }
    100% { transform: translateY(0) translateX(0) rotate(360deg); }
  }
  
  /* decorative SVG stars */
  .decor-star { position: absolute; width: 48px; height: 48px; color: rgba(255,240,230,0.18); transform-origin: center; }
  .decor-star-1 { top: 8%; left: 6%; transform: rotate(-12deg) scale(0.9); animation: floatUpDown 6s ease-in-out infinite; }
  .decor-star-2 { bottom: 12%; right: 8%; transform: rotate(20deg) scale(1.1); animation: floatUpDown 7.2s ease-in-out infinite; }
  @keyframes floatUpDown { 0% { transform: translateY(0) rotate(0);} 50% { transform: translateY(-8px) rotate(6deg);} 100% { transform: translateY(0) rotate(0);} }
  
  /* confetti layer base */
  .confetti-layer { pointer-events: none; }
  .confetti-piece {
    position: absolute;
    top: 12%;
    opacity: 0;
    transform-origin: center;
    border-radius: 3px;
    will-change: transform, opacity;
  }
  /* when .celebration-burst present on the confetti-layer container, play the burst animation on pieces with staggered delays */
  .confetti-layer.celebration-burst .confetti-piece {
    animation-name: confettiFall;
    animation-duration: 1200ms;
    animation-timing-function: cubic-bezier(.12,.75,.18,1);
    animation-fill-mode: forwards;
  }
  @keyframes confettiFall {
    0% { opacity: 1; transform: translateY(0) rotate(0) scale(1); }
    20% { transform: translateY(30px) rotate(120deg) scale(1.05); }
    60% { transform: translateY(160px) rotate(420deg) scale(0.96); }
    100% { opacity: 0; transform: translateY(360px) rotate(720deg) scale(0.9); }
  }
  
  /* Main reveal card */
  .reveal-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,250,248,0.98));
    backdrop-filter: blur(6px) saturate(110%);
    border: 1px solid rgba(203,176,135,0.12);
    transition: transform 420ms ease, box-shadow 420ms ease;
  }
  
  /* image frame */
  .image-frame{
    position: relative;
    margin: 0 auto;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 18px 46px rgba(40,18,45,0.08);
    transform-origin: center;
    transition: transform 280ms ease;
    cursor: pointer;
  }
  .friend-image{
    width: 100%;
    height: auto;
    display: block;
    transform: scale(1.03) translateY(10px);
    opacity: 0;
    filter: saturate(0.98) contrast(0.98) blur(2px);
    transition: transform 900ms cubic-bezier(.2,.9,.2,1), opacity 900ms ease, filter 900ms ease;
  }
  /* image entrance */
  .image-in {
    transform: scale(1) translateY(0);
    opacity: 1;
    filter: saturate(1) contrast(1) blur(0);
  }
  
  /* animated glow frame */
  .image-frame-glow{
    position:absolute;
    inset:6px;
    border-radius:14px;
    pointer-events:none;
    opacity:0;
    box-shadow: 0 0 0px rgba(255,200,120,0.0), 0 24px 48px rgba(160,95,190,0.03) inset;
    transition: opacity 640ms ease, box-shadow 640ms ease, transform 640ms ease;
  }
  .glow-on{
    opacity:1;
    box-shadow: 0 0 36px rgba(255,200,120,0.18), 0 30px 60px rgba(160,95,190,0.06) inset;
    transform: translateZ(0) scale(1.01);
  }
  
  /* subtle image vignette overlay for depth */
  .image-vignette{
    position:absolute;
    inset:0;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    pointer-events:none;
  }
  
  /* heading pop + shimmer */
  @keyframes headingPop {
    0%{opacity:0; transform:translateY(8px) scale(0.96); filter:blur(4px);}
    70%{opacity:1; transform:translateY(-6px) scale(1.03); filter:blur(0);}
    100%{transform:translateY(0) scale(1);}
  }
  .hb-heading { animation: headingPop 760ms cubic-bezier(.2,.9,.2,1) both; }
   .hb-text {
     background: linear-gradient(135deg, #ff6b35 0%, #f7931e 20%, #ffd700 40%, #ff6b35 60%, #e91e63 80%, #ff6b35 100%);
     -webkit-background-clip: text;
     background-clip: text;
     color: transparent;
     display:inline-block;
     position:relative;
     text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
     filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
     animation: colorShift 3s ease-in-out infinite;
   }
  /* shimmer */
  /* Rich gradient text for "Happy Birthday!" */
.hb-text-gradient {
  background: linear-gradient(
    90deg,
    #fbbf24 0%,   /* gold */
    #f472b6 40%,  /* pink */
    #a78bfa 70%,  /* purple */
    #fbbf24 100%  /* back to gold */
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  display: inline-block;
  font-weight: 800;
  position: relative;
  background-size: 200% 100%;
  animation: gradientFlow 6s linear infinite;
}

@keyframes gradientFlow {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 200% 50%;
  }
}

/* shimmer overlay for extra sparkle */
.hb-gradient-shimmer {
  content: "";
  position: absolute;
  top: 0;
  left: -150%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    120deg,
    transparent 0%,
    rgba(255, 255, 255, 0.8) 50%,
    transparent 100%
  );
  transform: skewX(-20deg);
  animation: shimmerSlide 3s ease-in-out infinite;
  pointer-events: none;
}

@keyframes shimmerSlide {
  0% {
    left: -150%;
  }
  50% {
    left: 120%;
  }
  100% {
    left: 120%;
  }
}

   
   /* animated color shifting for birthday text */
   @keyframes colorShift {
     0% { 
       background: linear-gradient(135deg, #ff6b35 0%, #f7931e 20%, #ffd700 40%, #ff6b35 60%, #e91e63 80%, #ff6b35 100%);
       text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
     }
     25% { 
       background: linear-gradient(135deg, #e91e63 0%, #ff6b35 20%, #f7931e 40%, #e91e63 60%, #ffd700 80%, #e91e63 100%);
       text-shadow: 0 0 30px rgba(233, 30, 99, 0.4);
     }
     50% { 
       background: linear-gradient(135deg, #ffd700 0%, #e91e63 20%, #ff6b35 40%, #ffd700 60%, #f7931e 80%, #ffd700 100%);
       text-shadow: 0 0 30px rgba(255, 215, 0, 0.4);
     }
     75% { 
       background: linear-gradient(135deg, #f7931e 0%, #ffd700 20%, #e91e63 40%, #f7931e 60%, #ff6b35 80%, #f7931e 100%);
       text-shadow: 0 0 30px rgba(247, 147, 30, 0.4);
     }
     100% { 
       background: linear-gradient(135deg, #ff6b35 0%, #f7931e 20%, #ffd700 40%, #ff6b35 60%, #e91e63 80%, #ff6b35 100%);
       text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
     }
   }
  
  /* sparkle emoji entrance */
  .hb-sparkles { display:inline-block; transform: translateY(-8px) scale(0.9); opacity:0; animation: sparkleIn 900ms ease 420ms forwards; }
  @keyframes sparkleIn{0%{opacity:0; transform:translateY(-12px) scale(0.78) rotate(-8deg)} 60%{opacity:1; transform:translateY(-4px) scale(1.06) rotate(8deg)} 100%{opacity:1; transform:none}}
  
  /* personal message fade */
  .personal-message { opacity:0; transform:translateY(6px); animation: messageFade 620ms ease 880ms forwards; }
  @keyframes messageFade { to { opacity:1; transform:translateY(0);} }
  
  /* typing caret */
  .typing-caret{
    display:inline-block;
    width:2px;
    height:1.02em;
    vertical-align:text-bottom;
    background:var(--muted-gold);
    margin-left:6px;
    border-radius:1px;
    animation: caretBlink 900ms steps(2,start) infinite;
  }
  @keyframes caretBlink { 50%{opacity:0} }
  .caret-hidden { opacity:0; animation:none; }
  
  /* controls */
  .controls { display:flex; gap:0.5rem; justify-content:center; align-items:center; }
  
  /* control button */
  .control-btn{
    display:inline-flex;
    align-items:center;
    gap:0.5rem;
    border-radius:999px;
    padding:0.45rem 0.9rem;
    font-size:0.86rem;
    background:linear-gradient(180deg, rgba(255,255,255,0.83), rgba(255,255,255,0.9));
    box-shadow: 0 6px 18px rgba(30,16,45,0.06);
    border: 1px solid rgba(0,0,0,0.04);
  }
  
  /* small responsiveness - mobile-first -> larger screens */
  @media (min-width:640px){
    .friend-image{ transition-duration: 820ms; border-radius:14px; }
    .image-frame{ border-radius:18px; }
    .reveal-card{ padding:2rem; }
    .hb-heading{ font-size:1.9rem; }
  }
  @media (min-width:1024px){
    .friend-image{ border-radius:16px; }
    .image-frame{ max-width:760px; }
    .hb-heading{ font-size:2.6rem; }
    .reveal-card{ padding:2.5rem; }
  }
  
  /* reduce motion */
  @media (prefers-reduced-motion: reduce){
    .particle-field, .confetti-piece, .hb-text::after, .friend-image, .image-frame, .hb-heading, .personal-message { animation: none !important; transition: none !important; }
    .typing-caret{ display:none; }
  }
  
  /* -------------------------
     Confetti stagger setup: set delays using nth-child via inline style fallback
     (already using inline styles in JS for each piece's animationDelay) 
     ------------------------- */
  
  /* -------------------------
     Small helper classes for screen-reader only text
     ------------------------- */
  .sr-only{
    position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
  }
  